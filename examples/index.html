<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>In-House Gantt Chart Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }

    h1 {
      color: #333;
      margin-bottom: 10px;
      font-size: 28px;
    }

    .subtitle {
      color: #666;
      margin-bottom: 30px;
      font-size: 14px;
    }

    #gantt-container {
      width: 100%;
      height: 500px;
      border: 1px solid #ddd;
      border-radius: 4px;
      overflow: auto;
      background: white;
    }

    .controls {
      margin-top: 20px;
      padding: 15px;
      background: #f9f9f9;
      border-radius: 4px;
    }

    .controls h3 {
      margin-bottom: 10px;
      color: #333;
      font-size: 16px;
    }

    .controls button {
      padding: 8px 16px;
      margin-right: 10px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }

    .controls button:hover {
      background: #45a049;
    }

    .info {
      margin-top: 20px;
      padding: 15px;
      background: #e3f2fd;
      border-radius: 4px;
      color: #1976D2;
    }

    .info h3 {
      margin-bottom: 10px;
      font-size: 16px;
    }

    .info ul {
      list-style-position: inside;
      line-height: 1.8;
    }

    .legend {
      margin-top: 20px;
      padding: 15px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 4px;
    }

    .legend h3 {
      margin-bottom: 10px;
      color: #333;
      font-size: 16px;
    }

    .legend-item {
      display: inline-flex;
      align-items: center;
      margin-right: 20px;
      margin-bottom: 10px;
    }

    .legend-color {
      width: 20px;
      height: 20px;
      border-radius: 2px;
      margin-right: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸŽ¯ In-House Gantt Chart Implementation</h1>
    <p class="subtitle">A custom-built Gantt chart without third-party charting libraries</p>

    <div id="gantt-container"></div>

    <div class="controls">
      <h3>Controls</h3>
      <button onclick="addSampleTask()">Add Task</button>
      <button onclick="refreshChart()">Refresh Chart</button>
      <button onclick="logTasks()">Log Tasks to Console</button>
    </div>

    <div class="legend">
      <h3>Legend</h3>
      <div class="legend-item">
        <div class="legend-color" style="background: #4CAF50;"></div>
        <span>Task Bar</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #2196F3;"></div>
        <span>Selected Task</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #81C784;"></div>
        <span>Progress</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #666;"></div>
        <span>Dependencies</span>
      </div>
    </div>

    <div class="info">
      <h3>Features Demonstrated:</h3>
      <ul>
        <li>âœ… Custom SVG-based rendering (no third-party charting libraries)</li>
        <li>âœ… Drag and drop tasks to reschedule</li>
        <li>âœ… Click to select/deselect tasks</li>
        <li>âœ… Task dependencies with arrow visualization</li>
        <li>âœ… Progress bars within tasks</li>
        <li>âœ… Timeline with date labels and grid</li>
        <li>âœ… Modular architecture for extensibility</li>
      </ul>
    </div>
  </div>

  <script type="module">
    import { GanttChart, TimelineScale } from '../dist/index.js';

    // Sample data
    const sampleTasks = [
      {
        id: 'task-1',
        name: 'Project Planning',
        start: new Date('2024-01-01'),
        end: new Date('2024-01-10'),
        progress: 100,
        color: '#4CAF50',
      },
      {
        id: 'task-2',
        name: 'Design Phase',
        start: new Date('2024-01-08'),
        end: new Date('2024-01-20'),
        progress: 75,
        color: '#2196F3',
        dependencies: ['task-1'],
      },
      {
        id: 'task-3',
        name: 'Development',
        start: new Date('2024-01-18'),
        end: new Date('2024-02-15'),
        progress: 40,
        color: '#FF9800',
        dependencies: ['task-2'],
      },
      {
        id: 'task-4',
        name: 'Testing',
        start: new Date('2024-02-10'),
        end: new Date('2024-02-25'),
        progress: 20,
        color: '#9C27B0',
        dependencies: ['task-3'],
      },
      {
        id: 'task-5',
        name: 'Deployment',
        start: new Date('2024-02-23'),
        end: new Date('2024-03-01'),
        progress: 0,
        color: '#F44336',
        dependencies: ['task-4'],
      },
    ];

    const dependencies = [
      { fromTaskId: 'task-1', toTaskId: 'task-2' },
      { fromTaskId: 'task-2', toTaskId: 'task-3' },
      { fromTaskId: 'task-3', toTaskId: 'task-4' },
      { fromTaskId: 'task-4', toTaskId: 'task-5' },
    ];

    // Initialize Gantt chart
    let ganttChart = new GanttChart({
      container: '#gantt-container',
      timeline: {
        scale: TimelineScale.DAY,
        pixelsPerDay: 30,
      },
      taskHeight: 35,
      taskPadding: 8,
      headerHeight: 60,
      rowHeight: 55,
      enableDragDrop: true,
      enableSelection: true,
    });

    ganttChart.setTasks(sampleTasks);
    ganttChart.setDependencies(dependencies);

    // Make functions available globally
    window.ganttChart = ganttChart;
    window.sampleTasks = sampleTasks;

    window.addSampleTask = function() {
      const newTask = {
        id: `task-${Date.now()}`,
        name: `New Task ${sampleTasks.length + 1}`,
        start: new Date('2024-02-28'),
        end: new Date('2024-03-10'),
        progress: 0,
        color: '#00BCD4',
      };
      sampleTasks.push(newTask);
      ganttChart.setTasks(sampleTasks);
      console.log('Added new task:', newTask);
    };

    window.refreshChart = function() {
      ganttChart.render();
      console.log('Chart refreshed');
    };

    window.logTasks = function() {
      console.log('Current tasks:', ganttChart.getTasks());
    };

    console.log('Gantt Chart Demo loaded successfully!');
    console.log('Try dragging tasks or clicking to select them.');
  </script>
</body>
</html>
